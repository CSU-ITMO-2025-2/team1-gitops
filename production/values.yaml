global:
  configMapName: ""
  secretName: "team-1-secrets"
  rbac:
    enabled: true
  istio:
    enabled: false

namespace:
  create: false
  name: ""
  istio:
    enabled: false
imagePullSecrets:
  - name: ghcr-secret
image:
  authService:
    repository: ghcr.io/csu-itmo-2025-2/team1-auth-service
    tag: latest
    pullPolicy: Always
  coreApi:
    repository: ghcr.io/csu-itmo-2025-2/team1-core-api
    tag: sha-c262c1a
    pullPolicy: Always
  frontend:
    repository: ghcr.io/csu-itmo-2025-2/team1-frontend
    tag: sha-c262c1a
    pullPolicy: Always
  resumeWorker:
    repository: ghcr.io/csu-itmo-2025-2/team1-resume-evaluation-worker
    tag: sha-c262c1a
    pullPolicy: Always
  jobDescrWorker:
    repository: ghcr.io/csu-itmo-2025-2/team1-job-description-worker
    tag: sha-c262c1a
    pullPolicy: Always
  questionWorker:
    repository: ghcr.io/csu-itmo-2025-2/team1-question-generation-worker
    tag: sha-c262c1a
    pullPolicy: Always
resources:
  coreApi:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"
  frontend:
    requests:
      cpu: "50m"
      memory: "256Mi"
    limits:
      cpu: "200m"
      memory: "512Mi"
autoscaling:
  coreApi:
    enabled: true # Включено для отказоустойчивости
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilization: 70
    targetMemoryUtilization: 80
  frontend:
    enabled: false # Отключено: Streamlit stateful, требует sticky sessions
    minReplicas: 2
    maxReplicas: 5
    targetMemoryUtilization: 70
rabbitmq:
  image: rabbitmq:3.13-management-alpine
  username: guest
  password: ""
  vhost: "/"
  port: 5672
  uiPort: 15672
postgres:
  image: postgres:16
  username: postgres
  password: ""
  db: hr_assist
  port: 5432
ingress:
  enabled: true
  host: ""
  className: nginx
  tls: false
env:
  openaiModelName: "gpt-4o-mini"
  openaiApiBase: "https://api.openai.com/v1"
  logLevel: INFO
  POSTGRES_HOST: "team1-project-postgres"
  POSTGRES_PORT: "5432"
  POSTGRES_DB: "hr_assist"
  POSTGRES_USER: "postgres"
  RABBITMQ_DEFAULT_HOST: "team1-project-rabbitmq"
  RABBITMQ_PORT: "5672"
secrets:
  useExternal: True
  useExisting: False
  existingSecretName: "hr-assist-secrets"
rbac:
  enabled: true
job-description-service:
  image:
    repository: ghcr.io/csu-itmo-2025-2/team1-job-description-worker
    tag: sha-c262c1a
    pullPolicy: Always
  configMap:
    name: ""
  secret:
    name: ""
  autoscaling:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 5
    queueName: "job_description_task"
    queueLength: 10
    rabbitmqHost: ""
question-generation-service:
  image:
    repository: ghcr.io/csu-itmo-2025-2/team1-question-generation-worker
    tag: sha-c262c1a
    pullPolicy: Always
  configMap:
    name: ""
  secret:
    name: ""
  autoscaling:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 5
    queueName: "question_generation_task"
    queueLength: 10
    rabbitmqHost: ""
resume-evaluation-service:
  image:
    repository: ghcr.io/csu-itmo-2025-2/team1-resume-evaluation-worker
    tag: sha-c262c1a
    pullPolicy: Always
  configMap:
    name: ""
  secret:
    name: ""
  autoscaling:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 5
    queueName: "resume_evaluation_task"
    queueLength: 10
    rabbitmqHost: ""
networkPolicy:
  enabled: true
